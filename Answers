To complete this task as per the instructions, follow these steps:
Steps to Accomplish the Task

    Install Apache on each machine:
        Ensure the httpd package is installed.
    Enable the httpd service:
        Configure the httpd service to start on boot and start it immediately.
    Change ownership of /var/www:
        Set both the user and group ownership of /var/www to smith.
    Automation:
        Use an Ansible playbook to automate these steps.


Ansible Playbook
The playbook below performs all the required steps:

---
- name: Configure Apache on CentOS Servers
  hosts: all
  become: yes

  tasks:
    - name: Ensure Apache (httpd) is installed
      yum:
        name: httpd
        state: present

    - name: Ensure httpd service is enabled and running
      service:
        name: httpd
        state: started
        enabled: yes

    - name: Change ownership of /var/www to smith
      file:
        path: /var/www
        owner: smith
        group: smith
        state: directory


Command to Execute the Playbook
    Save the playbook in an external text editor (e.g., apache_setup.yml).
    Run the playbook:

    ansible-playbook -i inventory_file apache_setup.yml

    Replace inventory_file with the path to your Ansible inventory.


Additional Notes
    User and Group smith: Ensure that the user and group smith exist on the servers. You can add this task to the playbook if needed:

- name: Ensure smith user exists
  user:
    name: smith
    state: present

Permissions: Ensure the Ansible control machine and target servers have proper configurations (e.g., SSH access).

References: Include screenshots from the Ansible Documentation for modules such as yum, service, and file.
